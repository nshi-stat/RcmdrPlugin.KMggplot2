---
title: "`geom_stepribbon`"
author: "Triad sou."
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{The geom_stepribbon}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

The `geom_stepribbon` is an extension of the `geom_ribbon`, and is
optimized for Kaplan-Meier plots with pointwise confidence intervals
or a confidence band.

## Usage

```r
geom_stepribbon(mapping = NULL, data = NULL, stat = "identity",
  position = "identity", na.rm = FALSE, show.legend = NA,
  inherit.aes = TRUE, kmplot = FALSE, ...)
```

## The additional argument
* `kmplot`
    * If `TRUE`, missing values are replaced by the previous values.
      This option is needed to make Kaplan-Meier plots if the last
      observation has an event, in which case the upper and lower 
      values of the last observation are missing. This processing
      is optimized for results from the `survfit` function.

Other arguments are the same as the `geom_ribbon`.


## Example

```{r, echo = TRUE}
require("ggplot2")
huron <- data.frame(year = 1875:1972, level = as.vector(LakeHuron))
h <- ggplot(huron, aes(year))
h + RcmdrPlugin.KMggplot2::geom_stepribbon(
      aes(ymin = level - 1, ymax = level + 1),
      fill = "grey70"
    ) +
    geom_step(aes(y = level))
h + geom_ribbon(
      aes(ymin = level - 1, ymax = level + 1),
      fill = "grey70"
    ) +
    geom_line(aes(y = level))
```

